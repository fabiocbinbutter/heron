# HERON

HERON, short for Human Editable Relational Object Notation, is a text format that
is designed to enable one or more users to maintain a set of data via text embedded
into otherwise unstructured text.

### Guiding principles

 - **No synchronous errors** - Data capture should never be at odds with users' natural note-taking, so any text is accepted by the HERON parser
 - **Reduced keystrokes** -
 - **Relational model** - Every object gets a primary key, so updates are well-defined, and data can be queried via SQL
 - **Context-free parsing** -
 - **Optional interoperability with JSON (TODO)** -

### HERON by Example

Our first Heron note
```
In HERON, data is embedded into otherwise freeform text. For example this is
a valid HERON note with no data. In fact, no syntax errors exist in HERON - every
text string is a valid HERON note
```

Once more, with data
```
Within notes, embedded objects are initiated with square brackets, like so: []

Also, objects are terminated by EOF, or two consecutive line breaks, so this is an object too: [

Should a user need a literal square bracket character, they can escape it \[

Let's take a look at a more realistic object [format:1 name:Heron audience:Humans]

```

# JSON Interop

*This functionality is not yet implemented in the reference parser. It still needs to be fleshed out*

To facilitate generating HERON notes using existing JSON libraries, HERON parsers
will also allow a JSON interoperability syntax - any HERON object that:

	- contains JSON for an object
	- does not contain any double line breaks
	- does not contain unescaped opening or closing square brackets

...can define a set of HERON objects. In particular, this would usually be the first
and only element in a note that chooses to use this syntax. For example,:

```
[{
	"format:JSON": {"isUbiquitous": "yes"},
	"format:HERON":{"isAwesome": "yes"},
	"format:text":{"":"The text contexts of an object are in a blank key, which could not otherwise be generated by textual input"}
}]
```

The resulting text is both valid JSON and valid & useful HERON

Note that the JSON object used must not contain arrays, because:
 1. HERON, being a relational format, does not use arrays to being with. All object require a key and thus are represented as members of a JSON object
 2. JSON arrays would use unescaped square brackets, which are not permitted as a part of the JSON interop syntax
